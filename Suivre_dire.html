<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUIVRE et DIRE - Entra√Ænement</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hint {
            background: #e0e7ff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            color: #4c51bf;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .exercise-selector {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            color: white;
        }

        .btn-exercise {
            background: #667eea;
        }

        .btn-exercise:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .btn-exercise.active {
            background: #48bb78;
        }

        .exercise-container {
            display: none;
        }

        .exercise-container.active {
            display: block;
        }

        .stats {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #666;
            margin-top: 5px;
        }

        /* EXERCICE 1 : CARTES */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .card.flipped {
            background: #fff9e6;
            border: 3px solid #ffd700;
        }

        .card.known {
            background: #d4edda;
            border: 2px solid #48bb78;
            opacity: 0.7;
        }

        .verb-title {
            font-size: 1.5em;
            color: #764ba2;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .tense-info {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 15px;
            font-style: italic;
        }

        .pronoun {
            font-size: 1.2em;
            color: #333;
            font-weight: bold;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            text-align: center;
        }

        .answer-section {
            display: none;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 3px dashed #ffd700;
        }

        .card.flipped .answer-section {
            display: block;
        }

        .conjugation-answer {
            font-size: 1.6em;
            color: #dc3545;
            font-weight: bold;
            text-align: center;
            padding: 15px;
            background: #ffe6e6;
            border-radius: 8px;
        }

        .card-actions {
            display: none;
            margin-top: 15px;
            gap: 10px;
        }

        .card.flipped:not(.known) .card-actions {
            display: flex;
        }

        .btn-small {
            padding: 10px 20px;
            font-size: 14px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            flex: 1;
        }

        .btn-know {
            background: #48bb78;
            color: white;
        }

        .btn-know:hover {
            background: #38a169;
        }

        /* EXERCICE 2 : QUIZ */
        .quiz-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        .quiz-question {
            font-size: 1.4em;
            color: #333;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .quiz-verb {
            color: #764ba2;
            font-size: 1.6em;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .quiz-option {
            padding: 15px;
            border: 3px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            background: white;
        }

        .quiz-option:hover {
            border-color: #667eea;
            transform: scale(1.05);
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: #48bb78;
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            text-align: center;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: #d4edda;
            color: #155724;
        }

        .quiz-feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
        }

        .btn-next-quiz {
            margin-top: 20px;
            padding: 15px 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            font-weight: bold;
            display: none;
        }

        .btn-next-quiz.show {
            display: inline-block;
        }

        .btn-next-quiz:hover {
            background: #5568d3;
        }

        /* EXERCICE 3 : TABLEAU */
        .table-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            overflow-x: auto;
        }

        .conjugation-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .conjugation-table th,
        .conjugation-table td {
            padding: 15px;
            text-align: left;
            border: 2px solid #e0e0e0;
        }

        .conjugation-table th {
            background: #667eea;
            color: white;
            font-size: 1.1em;
            font-weight: bold;
        }

        .conjugation-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .conjugation-table tr:hover {
            background: #e0e7ff;
        }

        .pronoun-col {
            font-weight: bold;
            color: #764ba2;
            width: 150px;
        }

        .conjugation-col {
            color: #333;
            font-size: 1.1em;
        }

        .blur {
            filter: blur(8px);
            user-select: none;
            transition: filter 0.3s;
        }

        .conjugation-col:hover .blur {
            filter: blur(0);
        }

        .verb-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .btn-verb {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            background: #ddd;
            color: #333;
        }

        .btn-verb.active {
            background: #667eea;
            color: white;
        }

        .controls {
            background: white;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .btn-danger {
            background: #f56565;
            color: white;
        }

        .btn-danger:hover {
            background: #e53e3e;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .cards-grid {
                grid-template-columns: 1fr;
            }

            .exercise-selector {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ SUIVRE et DIRE üéØ</h1>

        <div class="hint">
            üí° Astuce : Ces 2 verbes sont capricieux ! Apprends-les petit √† petit. 5 minutes par jour = succ√®s garanti !
        </div>

        <div class="exercise-selector">
            <button class="btn btn-exercise active" onclick="switchExercise(1)">
                üìá Exercice 1 : Cartes M√©moire
            </button>
            <button class="btn btn-exercise" onclick="switchExercise(2)">
                üéÆ Exercice 2 : Quiz Interactif
            </button>
            <button class="btn btn-exercise" onclick="switchExercise(3)">
                üìä Exercice 3 : Tableau Complet
            </button>
        </div>

        <!-- EXERCICE 1 : CARTES -->
        <div id="exercise1" class="exercise-container active">
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number" id="total1">0</div>
                    <div class="stat-label">Total</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="known1">0</div>
                    <div class="stat-label">‚úÖ Ma√Ætris√©es</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="remaining1">0</div>
                    <div class="stat-label">üìù √Ä r√©viser</div>
                </div>
            </div>

            <div class="controls">
                <button class="btn btn-primary" onclick="showAll()">üëÄ Tout afficher</button>
                <button class="btn btn-primary" onclick="hideAll()">üôà Tout cacher</button>
                <button class="btn btn-primary" onclick="shuffle()">üîÄ M√©langer</button>
                <button class="btn btn-danger" onclick="resetProgress()">üîÑ Recommencer</button>
            </div>

            <div class="cards-grid" id="cardsContainer"></div>
        </div>

        <!-- EXERCICE 2 : QUIZ -->
        <div id="exercise2" class="exercise-container">
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number" id="quizScore">0</div>
                    <div class="stat-label">üèÜ Score</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="quizTotal">0</div>
                    <div class="stat-label">üìä Questions</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="quizPercent">0%</div>
                    <div class="stat-label">üíØ R√©ussite</div>
                </div>
            </div>

            <div class="controls">
                <button class="btn btn-danger" onclick="resetQuiz()">üîÑ Recommencer le Quiz</button>
            </div>

            <div class="quiz-card" id="quizCard">
                <div class="quiz-question" id="quizQuestion"></div>
                <div class="quiz-options" id="quizOptions"></div>
                <div class="quiz-feedback" id="quizFeedback"></div>
                <button class="btn-next-quiz" id="btnNextQuiz" onclick="nextQuestion()">Suivant ‚Üí</button>
            </div>
        </div>

        <!-- EXERCICE 3 : TABLEAU -->
        <div id="exercise3" class="exercise-container">
            <div class="hint">
                üëÜ Passe ta souris sur les conjugaisons pour les r√©v√©ler !
            </div>

            <div class="verb-selector">
                <button class="btn-verb active" onclick="showVerb('suivre')">SUIVRE</button>
                <button class="btn-verb" onclick="showVerb('dire')">DIRE</button>
            </div>

            <div class="table-container" id="tableContainer"></div>
        </div>
    </div>

    <script>
        // üìö DONN√âES DE CONJUGAISON
        const conjugations = {
            suivre: {
                "Indicatif pr√©sent": ["je suis", "tu suis", "il/elle suit", "nous suivons", "vous suivez", "ils/elles suivent"],
                "Indicatif imparfait": ["je suivais", "tu suivais", "il/elle suivait", "nous suivions", "vous suiviez", "ils/elles suivaient"],
                "Indicatif pass√© simple": ["je suivis", "tu suivis", "il/elle suivit", "nous suiv√Æmes", "vous suiv√Ætes", "ils/elles suivirent"],
                "Indicatif futur simple": ["je suivrai", "tu suivras", "il/elle suivra", "nous suivrons", "vous suivrez", "ils/elles suivront"],
                "Conditionnel pr√©sent": ["je suivrais", "tu suivrais", "il/elle suivrait", "nous suivrions", "vous suivriez", "ils/elles suivraient"],
                "Subjonctif pr√©sent": ["que je suive", "que tu suives", "qu'il/elle suive", "que nous suivions", "que vous suiviez", "qu'ils/elles suivent"],
                "Imp√©ratif pr√©sent": ["‚Äî", "suis", "‚Äî", "suivons", "suivez", "‚Äî"],
                "Infinitif pr√©sent": ["suivre", "", "", "", "", ""]
            },
            dire: {
                "Indicatif pr√©sent": ["je dis", "tu dis", "il/elle dit", "nous disons", "vous dites", "ils/elles disent"],
                "Indicatif imparfait": ["je disais", "tu disais", "il/elle disait", "nous disions", "vous disiez", "ils/elles disaient"],
                "Indicatif pass√© simple": ["je dis", "tu dis", "il/elle dit", "nous d√Æmes", "vous d√Ætes", "ils/elles dirent"],
                "Indicatif futur simple": ["je dirai", "tu diras", "il/elle dira", "nous dirons", "vous direz", "ils/elles diront"],
                "Conditionnel pr√©sent": ["je dirais", "tu dirais", "il/elle dirait", "nous dirions", "vous diriez", "ils/elles diraient"],
                "Subjonctif pr√©sent": ["que je dise", "que tu dises", "qu'il/elle dise", "que nous disions", "que vous disiez", "qu'ils/elles disent"],
                "Imp√©ratif pr√©sent": ["‚Äî", "dis", "‚Äî", "disons", "dites", "‚Äî"],
                "Infinitif pr√©sent": ["dire", "", "", "", "", ""]
            }
        };

        const pronouns = ["je", "tu", "il/elle", "nous", "vous", "ils/elles"];

        // üìá EXERCICE 1 : CARTES
        let flashcards = [];
        let knownCards = new Set();

        function generateFlashcards() {
            flashcards = [];
            for (let verb in conjugations) {
                for (let tense in conjugations[verb]) {
                    conjugations[verb][tense].forEach((conj, index) => {
                        if (conj && conj !== "‚Äî") {
                            flashcards.push({
                                verb: verb.toUpperCase(),
                                tense: tense,
                                pronoun: pronouns[index],
                                conjugation: conj
                            });
                        }
                    });
                }
            }
        }

        function createFlashcard(item, index) {
            return `
                <div class="card" id="card-${index}" onclick="flipCard(${index})">
                    <div>
                        <div class="verb-title">${item.verb}</div>
                        <div class="tense-info">${item.tense}</div>
                        <div class="pronoun">${item.pronoun}</div>
                    </div>
                    <div class="answer-section">
                        <div class="conjugation-answer">${item.conjugation}</div>
                        <div class="card-actions">
                            <button class="btn-small btn-know" onclick="markAsKnown(event, ${index})">
                                ‚úÖ Je sais !
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderFlashcards() {
            const container = document.getElementById('cardsContainer');
            container.innerHTML = flashcards.map((item, index) => createFlashcard(item, index)).join('');
            updateStats();
        }

        function flipCard(index) {
            const card = document.getElementById(`card-${index}`);
            if (!card.classList.contains('known')) {
                card.classList.toggle('flipped');
            }
        }

        function markAsKnown(event, index) {
            event.stopPropagation();
            const card = document.getElementById(`card-${index}`);
            card.classList.add('known');
            knownCards.add(index);
            updateStats();
        }

        function updateStats() {
            const total = flashcards.length;
            const known = knownCards.size;
            const remaining = total - known;

            document.getElementById('total1').textContent = total;
            document.getElementById('known1').textContent = known;
            document.getElementById('remaining1').textContent = remaining;
        }

        function showAll() {
            document.querySelectorAll('.card').forEach(card => {
                if (!card.classList.contains('known')) {
                    card.classList.add('flipped');
                }
            });
        }

        function hideAll() {
            document.querySelectorAll('.card').forEach(card => {
                card.classList.remove('flipped');
            });
        }

        function shuffle() {
            const array = [...flashcards];
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            flashcards.length = 0;
            flashcards.push(...array);
            knownCards.clear();
            renderFlashcards();
        }

        function resetProgress() {
            if (confirm('Es-tu s√ªr ? Tu vas perdre ta progression.')) {
                knownCards.clear();
                document.querySelectorAll('.card').forEach(card => {
                    card.classList.remove('flipped', 'known');
                });
                updateStats();
            }
        }

        // üéÆ EXERCICE 2 : QUIZ
        let quizQuestions = [];
        let currentQuestionIndex = 0;
        let quizScore = 0;
        let quizAnswered = 0;

        function generateQuizQuestions() {
            quizQuestions = [];
            for (let verb in conjugations) {
                for (let tense in conjugations[verb]) {
                    conjugations[verb][tense].forEach((correctAnswer, index) => {
                        if (correctAnswer && correctAnswer !== "‚Äî") {
                            quizQuestions.push({
                                verb: verb,
                                tense: tense,
                                pronoun: pronouns[index],
                                correctAnswer: correctAnswer
                            });
                        }
                    });
                }
            }
            shuffleArray(quizQuestions);
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function generateWrongAnswers(correct, verb) {
            const allConjugations = [];
            for (let tense in conjugations[verb]) {
                allConjugations.push(...conjugations[verb][tense].filter(c => c && c !== "‚Äî" && c !== correct));
            }
            
            shuffleArray(allConjugations);
            const wrongs = allConjugations.slice(0, 3);
            
            while (wrongs.length < 3) {
                wrongs.push(correct + "x");
            }
            
            return wrongs;
        }

        function displayQuestion() {
            if (currentQuestionIndex >= quizQuestions.length) {
                document.getElementById('quizQuestion').innerHTML = `
                    <div style="text-align: center; color: #48bb78;">
                        üéâ Quiz termin√© ! üéâ<br>
                        Score : ${quizScore} / ${quizAnswered}
                    </div>
                `;
                document.getElementById('quizOptions').innerHTML = '';
                document.getElementById('quizFeedback').classList.remove('show');
                document.getElementById('btnNextQuiz').classList.remove('show');
                return;
            }

            const question = quizQuestions[currentQuestionIndex];
            const wrongAnswers = generateWrongAnswers(question.correctAnswer, question.verb);
            const allOptions = [question.correctAnswer, ...wrongAnswers];
            shuffleArray(allOptions);

            document.getElementById('quizQuestion').innerHTML = `
                <span class="quiz-verb">${question.verb.toUpperCase()}</span> - ${question.tense}<br>
                Comment conjuguer : <strong>${question.pronoun}</strong> ?
            `;

            document.getElementById('quizOptions').innerHTML = allOptions.map(option => `
                <div class="quiz-option" onclick="checkAnswer('${option.replace(/'/g, "\\'")}', '${question.correctAnswer.replace(/'/g, "\\'")}')">
                    ${option}
                </div>
            `).join('');

            document.getElementById('quizFeedback').classList.remove('show', 'correct', 'incorrect');
            document.getElementById('btnNextQuiz').classList.remove('show');
        }

        function checkAnswer(selected, correct) {
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(option => {
                option.style.pointerEvents = 'none';
                if (option.textContent.trim() === correct) {
                    option.classList.add('correct');
                }
                if (option.textContent.trim() === selected && selected !== correct) {
                    option.classList.add('incorrect');
                }
            });

            const feedback = document.getElementById('quizFeedback');
            quizAnswered++;

            if (selected === correct) {
                quizScore++;
                feedback.className = 'quiz-feedback show correct';
                feedback.textContent = 'üéâ Bravo ! Bonne r√©ponse !';
            } else {
                feedback.className = 'quiz-feedback show incorrect';
                feedback.textContent = `‚ùå Rat√© ! La bonne r√©ponse √©tait : ${correct}`;
            }

            updateQuizStats();
            document.getElementById('btnNextQuiz').classList.add('show');
        }

        function nextQuestion() {
            currentQuestionIndex++;
            displayQuestion();
        }

        function updateQuizStats() {
            document.getElementById('quizScore').textContent = quizScore;
            document.getElementById('quizTotal').textContent = quizAnswered;
            const percent = quizAnswered > 0 ? Math.round((quizScore / quizAnswered) * 100) : 0;
            document.getElementById('quizPercent').textContent = percent + '%';
        }

        function resetQuiz() {
            currentQuestionIndex = 0;
            quizScore = 0;
            quizAnswered = 0;
            generateQuizQuestions();
            displayQuestion();
            updateQuizStats();
        }

        // üìä EXERCICE 3 : TABLEAU
        let currentVerb = 'suivre';

        function showVerb(verb) {
            currentVerb = verb;
            
            document.querySelectorAll('.btn-verb').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            displayTable(verb);
        }

        function displayTable(verb) {
            let html = '<table class="conjugation-table">';
            html += '<thead><tr><th>Temps</th>';
            pronouns.forEach(p => {
                html += `<th>${p}</th>`;
            });
            html += '</tr></thead><tbody>';

            for (let tense in conjugations[verb]) {
                html += `<tr><td class="pronoun-col">${tense}</td>`;
                conjugations[verb][tense].forEach(conj => {
                    if (conj === "‚Äî" || conj === "") {
                        html += '<td class="conjugation-col">‚Äî</td>';
                    } else {
                        html += `<td class="conjugation-col"><span class="blur">${conj}</span></td>`;
                    }
                });
                html += '</tr>';
            }

            html += '</tbody></table>';
            document.getElementById('tableContainer').innerHTML = html;
        }

        // üîÄ NAVIGATION ENTRE EXERCICES
        function switchExercise(num) {
            document.querySelectorAll('.exercise-container').forEach(ex => ex.classList.remove('active'));
            document.querySelectorAll('.btn-exercise').forEach(btn => btn.classList.remove('active'));
            
            document.getElementById('exercise' + num).classList.add('active');
            event.target.classList.add('active');

            if (num === 2 && quizQuestions.length === 0) {
                generateQuizQuestions();
                displayQuestion();
                updateQuizStats();
            } else if (num === 3) {
                displayTable(currentVerb);
            }
        }

        // üöÄ INITIALISATION
        generateFlashcards();
        renderFlashcards();
        generateQuizQuestions();
        displayTable('suivre');
    </script>
</body>
</html>